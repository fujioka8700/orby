# やること・仕様メモ（Todo）

| 項目         | 日付       |
| ------------ | ---------- |
| 思い付いた日 | 2025-01-31 |
| 実装した日   | -          |

※ 実装したら「実装した日」に日付を記入する。

---

## やりたいこと

- [x] ミスしたときの演出を決めて実装する
- [x] ゲームオーバーの表示を決めて実装する
- [x] ゲームの再開方法の演出を決めて実装する
- [x] プレイ体験が分かりやすく・気持ちよいものにする
- [ ] ステージクリア時の演出を決めて実装する

---

## 1. ミスしたときの演出

| 思い付いた日 | 実装した日 |
| ------------ | ---------- |
| 2025-01-31   | 2025-02-05 |

### 方針

- **ミス時画像**: `Player_miss.png` を使用。
- **無敵時間**: リスポーン後 1.5 秒は敵・落下判定を無効。
- **ミス瞬間**: プレイヤーを上に一度飛ばす → 落下 → 画面外でフェードアウト → 初期位置へワープ → フェードイン。速度 0。
- **SE・画面効果**: 未実装（余裕があれば追加）。

---

## 2. ゲームオーバーの表示

| 思い付いた日 | 実装した日 |
| ------------ | ---------- |
| 2025-01-31   | 2025-02-06 |

### 方針

- **文言**: 「GAME OVER」＋「Touch to continue」。
- **表示**: 半透明黒オーバーレイ、中央にテキスト。
- **ゲーム状態**: 物理停止で操作不可。タップで再開。

---

## 3. ゲームの再開方法

| 思い付いた日 | 実装した日 |
| ------------ | ---------- |
| 2025-01-31   | 2025-02-06 |

### 方針

- **操作**: タップ・クリックで再開。
- **再開時の状態**: 残機 2、プレイヤー・敵を初期位置に戻す。無敵時間なし。
- **演出**: GAME OVER 表示 → タップで即再開。

---

## 4. 今後の候補

- [ ] ミス SE・ゲームオーバー SE の追加
- [ ] ミス瞬間の短いカメラ停止や画面フラッシュ（任意）

---

## 5. ステージクリア時の演出

| 思い付いた日 | 実装した日 |
| ------------ | ---------- |
| 2025-01-31   |             |

### 決めること

| 項目             | 候補・メモ                                                                 |
| ---------------- | -------------------------------------------------------------------------- |
| **クリア条件**   | ゴールオブジェクトに触れる／ゴールエリアに入る／全コイン取得 など         |
| **表示文言**     | 「STAGE CLEAR」／「CLEAR」＋ステージ名 など                                |
| **表示時間**     | 2〜3 秒で自動進行／タップでスキップ／「NEXT」ボタンで進行                   |
| **クリア後**     | 次のステージへ／タイトルへ／同じステージを再プレイ（スコア用）             |
| **演出**         | フェードアウト → 画面切り替え → フェードイン／短い停止＋テキスト表示のみ  |

### 暫定方針（実装の目安）

- **クリア条件**: タイルマップのオブジェクトレイヤーに「Goal」などゴールを置き、プレイヤーがその範囲に触れたらクリアとする。
- **表示**: 画面中央に「STAGE CLEAR」テキストを表示。半透明の黒オーバーレイは任意（GAME OVER と同様でもよい）。
- **表示時間**: 2 秒程度表示したあと、フェードアウトして次の処理へ。または「Touch to continue」を出し、タップで次へ進む。
- **クリア後**: いまはステージが 1 つだけなら「Touch to continue」で同じステージを最初から再開（リスタート）する暫定処理でよい。複数ステージ対応時に「次のステージへ」に変更する。
- **演出**: 物理一時停止（`physics.pause()`）→ テキスト表示 → 指定秒数 or タップで `restart()` または次のシーンへ。フェードは余裕があれば追加。
